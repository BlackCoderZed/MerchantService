
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutDefault.cshtml";
}
<link href="@Url.Content("~/Content/Gridmvc.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/gridmvc.min.js")" type="text/javascript"> </script>
<h6>MPU Calculation</h6>
@using (Html.BeginForm("Index", "MPU", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <div class="row">
        <div class="col s12 m6 l6">
            <div class="file-field input-field">
                <div class="btn">
                    <span>Choose File</span>
                    <input type="file" name="postedFile">
                </div>
                <div class="file-path-wrapper">
                    <input class="file-path validate" type="text">
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m5 l5">
            File Type
            <p>
                <label>
                    <input name="chkType" id="inc" type="radio" value="inc" />
                    <span>INC</span>
                </label>
            </p>
            <p>
                <label>
                    <input name="chkType" id="bcom" value="bcom" type="radio" />
                    <span>BCOM</span>
                </label>
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m6 l6">
            <button class="btn waves-effect waves-light" type="submit" name="action">
                Upload
            </button>
        </div>
    </div>
    
}

<hr />
@{
    if (TempData["MerchantInfoError"] != null)
    {
        //this is warrning message
        <p style="color:red">@TempData["MerchantInfoError"]</p>
        <script>
            alert(@Html.Raw(Json.Encode(TempData["MerchantInfoError"])));
        </script>
        TempData.Clear();
    }

    if (TempData["TRX_Message"] != null)
    {
        <p style="color:blue">@TempData["TRX_Message"]</p>
        <script>
            alert(@Html.Raw(Json.Encode(TempData["TRX_Message"])));
        </script>
        TempData.Clear();
    }

    if (ViewBag.ChkType == "inc")
    {
        <script>
            $('#inc').prop('checked', true);
        </script>
    }
    else
    {
        <script>
            $('#bcom').prop('checked', true);
        </script>
    }

    if(ViewBag.FileName!=null)
    {
        <script>
            document.getElementsByName("postedFile").value = ViewBag.FileName;
        </script>
    }
}


@*<div class="container-fluid">
    <div class="row">
        <div class="col s12 m12 l12" style="height:300px;overflow:auto;">
            <table>
                <tr>
                    <th>Merchant ID</th>
                    <th>Merchant Name</th>
                    <th>Card No</th>
                    <th>Card Type</th>
                    <th>TRX Amount</th>
                    <th>Settlement Amount</th>
                    <th></th>
                </tr>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.MPU_Merchant_ID</td>
                        <td>@item.Merchant_Name</td>
                        <td>@item.CardNo</td>
                        <td>@item.CardType</td>
                        <td>@item.TrxAmount</td>
                        <td>@item.SettAmount</td>
                        <td><a href="#" onclick="">Delete</a></td>
                    </tr>
                }
            </table>
        </div>
    </div>
</div>*@
